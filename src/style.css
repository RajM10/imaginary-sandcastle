/* ============================================
   CSS RESET & BASE STYLES
   ============================================ */
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

#SandDune1 {
  flex-shrink: 0;
  bottom: clamp(-8rem, -12vw, -2rem);
  left: 0;
  right: 0;
  width: 100vw;
  height: auto;
  position: absolute;
  fill: var(--sand-dune-secondary, #f1ce9f);
  stroke-width: 1px;
  stroke: var(--castle-shadow-primary, #af8a61);
  z-index: 7;
}

#SandDune2 {
  bottom: 0;
  right: 0;
  width: min(42vw, 520px);
  height: auto;
  position: absolute;
  fill: var(--sand-dune-primary, #bc976c);
  stroke-width: 1px;
  stroke: var(--sand-dune-secondary, #f1ce9f);
  z-index: 10;
}

#SandDune3 {
  position: absolute;
  fill: var(--sand-dune-secondary, #bc976c);
  bottom: clamp(1rem, 10vw, 15rem);
  right: 0;
  width: min(40vw, 60rem);
  height: auto;
  stroke: black;
  z-index: 6;
  flex-shrink: 0;
}

#SandDune4 {
  fill: var(--sand-dune-secondary, #f1ce9f);
  right: 0;
  position: absolute;
  bottom: clamp(2rem, 10vw, 15rem);
  right: clamp(1rem, 8vw, 11rem);
  width: min(60vw, 50rem);
  height: auto;
  z-index: 8;
  flex-shrink: 0;
}

/* ============================================
   CASTLE & ROCK POSITIONING
   ============================================ */

#main-rock {
  position: absolute;
  left: clamp(1rem, 12vw, 14rem);
  bottom: clamp(1rem, 6vw, 8rem);
  width: min(10vw, 140px);
  height: auto;
  z-index: 9;
}

/* Small Rocks Positioning */
#small-rock-1 {
  position: absolute;
  right: clamp(8rem, 20vw, 22rem);
  bottom: clamp(1.5rem, 8vw, 10rem);
  width: min(8vw, 80px);
  height: auto;
  z-index: 7;
}

#small-rock-2 {
  position: absolute;
  right: clamp(6rem, 18vw, 20rem);
  bottom: clamp(0.5rem, 6vw, 8rem);
  width: min(4vw, 40px);
  height: auto;
  z-index: 6;
}

#small-rock-3 {
  position: absolute;
  right: clamp(10rem, 22vw, 24rem);
  bottom: clamp(0.8rem, 7vw, 9rem);
  width: min(6vw, 60px);
  height: auto;
  z-index: 8;
}

#castle-svg {
  position: absolute;
  right: clamp(1rem, 14vw, 16rem);
  bottom: clamp(2rem, 14vw, 15rem);
  width: min(30vw, 520px);
  height: auto;
  z-index: 8;
  flex-shrink: 0;
}

/* ============================================
   SVG PATH OVERRIDES
   ============================================ */

/* Style inlined dune SVG paths to follow theme variables */
#sandDune1 path {
  fill: var(--sand-dune-secondary);
  stroke: var(--castle-shadow-primary);
}

#sandDune2 path {
  fill: var(--sand-dune-primary);
}

#sandDune3 path {
  fill: var(--sand-dune-primary);
}

#sandDune4 path {
  fill: var(--sand-dune-secondary);
}

/* ============================================
   LAYOUT & BASE COMPONENTS
   ============================================ */

body {
  height: 100dvh;
  width: 100dvw;
  /* background: radial-gradient(circle at 57.36% 8.94%, var(--sky-origin) 6.25%, var(--sky-end) 100%);x */
  overflow: hidden;
  transition: background 0.1s ease-out;
}

/* Dynamic background based on sun/moon position */

#app {
  position: relative;
  min-height: 100dvh;
}

img {
  display: block;
  height: auto;
  max-width: 100%;
}

/* ============================================
   BACKGROUND ELEMENTS
   ============================================ */

#bg {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 19dvw;
  z-index: 2;
  background: var(--sand-dune-primary);
}

#line {
  position: absolute;
  left: 200px;
  bottom: 200px;
  z-index: 10;
}
#sun #moon {
  transition: opacity 0.5s ease-in-out;
  position: absolute;
  z-index: 1;
  height: auto;
}
#sun {
  flex-shrink: 0;
  aspect-ratio: 1/1;
  opacity: 1;
  transition: all 0.5s ease-out;
  fill: radial-gradient(
    50% 50% at 50% 50%,
    #fff 30.29%,
    rgba(255, 217, 0, 0.37) 100%
  );
  filter: blur(2px) drop-shadow(0 4px 18px rgba(249, 221, 10, 0.4));
}

#moon {
  fill: radial-gradient(
    90.89% 54.22% at 59.64% 56.49%,
    #fff 30.29%,
    #898989 100%
  );
  opacity: 0;
  filter: drop-shadow(0 0 30px white);
}
body.dark-mode #sun {
  opacity: 0;
}
body.dark-mode #moon {
  opacity: 1;
}
#NightCastle {
  position: absolute;
  right: clamp(1rem, 14vw, 16rem);
  bottom: clamp(2rem, 14vw, 15rem);
  width: min(30vw, 520px);
  height: auto;
  z-index: 8;
  flex-shrink: 0;
  opacity: 0;
}
#Tree {
  opacity: 0;
  position: absolute;
  right: clamp(1rem, 30vw, 32rem);
  bottom: clamp(2rem, 14vw, 15rem);
  width: min(30vw, 520px);
  height: auto;
  z-index: 7;
}
#River {
  opacity: 0;
  position: absolute;
  left: clamp(1rem, 10vw, 12rem);
  bottom: clamp(2rem, 17vw, 10rem);
  width: min(40vw, 720px);
  height: auto;
  z-index: 6;
}
body.dark-mode #NightCastle {
  opacity: 1;
}
body.dark-mode #Tree {
  opacity: 1;
}
body.dark-mode #River {
  opacity: 1;
}
body.dark-mode #castle-svg {
  opacity: 0;
}
